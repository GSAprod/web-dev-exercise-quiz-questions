<%- include("partials/header.ejs") %>

<div class="container">
  <div class="card position-absolute top-50 start-50 translate-middle">
    <div class="card-body">
      <% if (!locals.error && locals.question) { %>
       
      <span class="badge text-bg-primary"><%= question["category"] %></span>
      <span class="badge text-bg-secondary mb-3"><%= question["difficulty"] %></span>
      <h5 class="card-title mb-3">
        <%- question["question"] %>
      </h5>
      <div class="row g-2 mb-2">
        <% for( let i = 0; i < question["answers"].length; i++ ) { %>
          <% if (i === question["correctIndex"]) { %>
            <div class="col-6">
              <button
                type="button"
                class="btn btn-outline-secondary btn-correct-answer"
                style="width: 100%; height: 100%">
                <%- question["answers"][i] %>
              </button>
            </div>
          <% } else { %>
            <div class="col-6">
              <button
                type="button"
                class="btn btn-outline-secondary btn-incorrect-answer"
                style="width: 100%; height: 100%">
                <%- question["answers"][i] %>
              </button>
            </div>
          <% } %>
        <% } %>
      </div>
      <div class="text-end">Questions supplied by <b><a href="https://opentdb.com/" target="_blank">Open Trivia DB</a></b></div>      
      <% } else { %>
      <h5 class="card-title">Error fetching question</h5>
      <h6 class="card-subtitle mb-2 text-body-secondary"><%= error %></h6>
      <% } %>
    </div>
  </div>
</div>

<%- include("partials/footer.ejs") %>
